<app-nav-bar></app-nav-bar>

<div class="home">
  <div class="left">
    <h1>Start Ride</h1>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="hint">
      Loading ride information...
    </div>

    <!-- No Active Ride -->
    <div *ngIf="!isLoading && !activeRide" class="hint">
      No ride assigned. Wait for a passenger to request a ride.
    </div>

    <!-- Active Ride Details -->
    <div *ngIf="!isLoading && activeRide">
      <div class="ride-info">
        <div class="info-row">
          <label>Ride ID:</label>
          <span>{{ activeRide.rideId }}</span>
        </div>

        <div class="info-row">
          <label>Starting Point:</label>
          <span>{{ activeRide.startingPoint }}</span>
        </div>

        <div class="info-row">
          <label>Destination:</label>
          <span>{{ activeRide.endingPoint }}</span>
        </div>

        <div class="info-row">
          <label>Passenger:</label>
          <span>{{ activeRide.passengerName }}</span>
        </div>

        <div class="info-row">
          <label>Total Passengers:</label>
          <span>{{ activeRide.passengerCount }}</span>
        </div>

        <div class="info-row">
          <label>Estimated Time:</label>
          <span>{{ activeRide.estimatedTimeMin }} min</span>
        </div>

        <div class="info-row">
          <label>Estimated Price:</label>
          <span>{{ activeRide.estimatedPrice }} RSD</span>
        </div>
      </div>

      <!-- Start Button -->
      <div class="form-actions" *ngIf="activeRide">
        <button type="button"
                (click)="handleRideButton()"
                [disabled]="isStarting"
                [ngClass]="rideButtonClass"
                [title]="isRideInProgress ? 'Ride in progress' : 'Start the ride'">
          {{ rideButtonLabel }}
        </button>

      </div>
    </div>

    <!-- Messages -->
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
  </div>

  <div class="right">
    <app-map></app-map>
  </div>
</div>
